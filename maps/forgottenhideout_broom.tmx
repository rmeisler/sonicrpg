<?xml version="1.0" encoding="UTF-8"?>
<map version="1.0" tiledversion="1.1.5" orientation="orthogonal" renderorder="right-down" width="27" height="26" tilewidth="32" tileheight="32" infinite="0" nextobjectid="227">
 <properties>
  <property name="battlebg" type="file" value="../art/backgrounds/datacenter1f.png"/>
  <property name="onload" type="file" value="actions/forgotten_broom.lua"/>
  <property name="regionName" value="Robotropolis"/>
  <property name="sectorName" value="Swatbot Factory"/>
 </properties>
 <tileset firstgid="1" source="datacenter_interior.tsx"/>
 <tileset firstgid="1191" source="robotropolis.tsx"/>
 <tileset firstgid="4691" source="forest2.tsx"/>
 <tileset firstgid="9866" source="knotholeindoors.tsx"/>
 <layer name="backwall" width="27" height="26">
  <data encoding="csv">
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522,1521,1522,1521,1522,1521,1522,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522,1521,1522,1521,1522,1521,1522,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522,1521,1522,1521,1522,1521,1522,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522,1521,1522,1521,1522,1521,1522,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522,1521,1522,1521,1522,1521,1522,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522,1521,1522,1521,1522,1521,1522,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522,1521,1522,1521,1522,1521,1522,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522,1521,1522,1521,1522,1521,1522,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522,1521,1522,1521,1522,1521,1522,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522,1521,1522,1521,1522,1521,1522,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522,1521,1522,1521,1522,1521,1522,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522,1521,1522,1521,1522,1521,1522,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522,1521,1522,1521,1522,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522,1521,1522,1521,1522,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522,1521,1522,1521,1522,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522,1521,1522,1521,1522,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522,1521,1522,1521,1522,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522,1521,1522,1521,1522,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1521,1522,1521,1522
</data>
 </layer>
 <layer name="ground" width="27" height="26">
  <data encoding="csv">
4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,0,0,0,0,0,0,0,0,0,0,
4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,0,0,0,0,0,0,0,0,0,0,
4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,0,0,0,0,0,0,0,0,0,0,
4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,0,0,0,0,0,0,0,0,0,0,
4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,0,0,0,0,0,0,0,0,0,0,
4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,0,0,0,0,0,0,0,0,0,0,
4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,0,0,
4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,0,0,
4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,0,0,
4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,0,0,
4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,4323,4324,0,0,
4359,4358,4359,4358,4359,4358,4359,4358,4359,4358,4359,4358,4359,4358,4359,4358,4359,4358,4359,4358,4359,4358,4359,4358,4359,0,0,
4102,4103,4103,4103,4103,4103,4103,4104,4102,4103,4103,4103,4103,4103,4103,4104,4102,4103,4103,4103,4103,4103,4103,4104,0,0,0,
4137,4138,4138,4138,4138,4138,4138,4139,4137,4138,4138,4138,4138,4138,4138,4139,4137,4138,4138,4138,4138,4138,4138,4139,0,0,0,
4137,4138,4138,4138,4138,4138,4138,4139,4137,4138,4138,4138,4138,4138,4138,4139,4137,4138,4138,4138,4138,4138,4138,4139,0,0,0,
4137,4138,4138,4138,4138,4138,4138,4139,4137,4138,4138,4138,4138,4138,4138,4139,4137,4138,4138,4138,4138,4138,4138,4139,4087,4088,4089,
4137,4138,4138,4138,4138,4138,4138,4139,4137,4138,4138,4138,4138,4138,4138,4139,4137,4138,4138,4138,4138,4138,4138,4139,4122,4123,4124,
4137,4138,4138,4138,4138,4138,4138,4139,4137,4138,4138,4138,4138,4138,4138,4139,4137,4138,4138,4138,4138,4138,4138,4139,4157,4158,4159,
4137,4138,4138,4138,4138,4138,4138,4139,4137,4138,4138,4138,4138,4138,4138,4139,4137,4138,4138,4138,4138,4138,4138,4139,4192,4193,4194,
4137,4138,4138,4138,4138,4138,4138,4139,4137,4138,4138,4138,4138,4138,4138,4139,4137,4138,4138,4138,4138,4138,4138,4139,4227,4228,4229,
4137,4138,4138,4138,4138,4138,4138,4139,4137,4138,4138,4138,4138,4138,4138,4139,4137,4138,4138,4138,4138,4138,4138,4139,4262,4263,4264,
4137,4138,4138,4138,4138,4138,4138,4139,4137,4138,4138,4138,4138,4138,4138,4139,4137,4138,4138,4138,4138,4138,4138,4139,0,0,0,
4172,4173,4173,4173,4173,4173,4173,4174,4172,4173,4173,4173,4173,4173,4173,4174,4172,4173,4173,4173,4173,4173,4173,4174,0,0,0,
3540,3540,3540,3540,3540,3540,3540,3540,3540,3540,3540,3540,3540,3540,3540,3540,3540,3540,3540,3540,3540,3540,3540,3540,0,0,0,
3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,0,0,0,
3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,3575,0,0,0
</data>
 </layer>
 <layer name="detail" width="27" height="26">
  <data encoding="csv">
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3716,3716,3716,3716,3716,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3716,3717,3716,3716,3717,0,0,0,0,0,
0,0,0,4569,4570,4571,0,0,0,0,0,0,0,0,0,0,0,4034,4001,4002,4003,4004,0,0,0,0,0,
0,0,0,4604,4605,4606,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,4639,4640,4641,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,4674,4675,4676,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,4099,4100,4100,4101,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
</data>
 </layer>
 <layer name="detail2" width="27" height="26">
  <data encoding="csv">
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4208,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4209,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4637,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4637,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
</data>
 </layer>
 <objectgroup name="objects">
  <object id="212" name="Exit1" type="SceneEdge" gid="1227" x="352" y="832" width="128" height="64">
   <properties>
    <property name="ghost" type="bool" value="true"/>
    <property name="key" value="down"/>
    <property name="orientation" value="up"/>
    <property name="scene" type="file" value="forgottenhideout.lua"/>
    <property name="spawn_point" value="UpperExit"/>
   </properties>
  </object>
  <object id="218" name="Spawn 1" type="Player" gid="1586" x="384" y="736" width="32" height="32">
   <properties>
    <property name="orientation" value="up"/>
   </properties>
  </object>
  <object id="226" name="B" type="BasicNPC" gid="1227" x="384" y="448" width="64" height="96">
   <properties>
    <property name="align" value="bottom_left"/>
    <property name="alignOffsetX" type="float" value="-8"/>
    <property name="alignOffsetY" type="float" value="-16"/>
    <property name="defaultAnim" value="idledown"/>
    <property name="ghost" type="bool" value="false"/>
    <property name="nonight" type="bool" value="true"/>
    <property name="onInteract">local Serial = require &quot;actions/Serial&quot;
local Do = require &quot;actions/Do&quot;
local MessageBox = require &quot;actions/MessageBox&quot;
local Menu = require &quot;actions/Menu&quot;
local BlockPlayer = require &quot;actions/BlockPlayer&quot;
local PlayAudio = require &quot;actions/PlayAudio&quot;
local Wait = require &quot;actions/Wait&quot;
local Ease = require &quot;actions/Ease&quot;
local Parallel = require &quot;actions/Parallel&quot;
local Animate = require &quot;actions/Animate&quot;
local Spawn = require &quot;actions/Spawn&quot;
local AudioFade = require &quot;actions/AudioFade&quot;

local Transform = require &quot;util/Transform&quot;
local Layout = require &quot;util/Layout&quot;

local NPC = require &quot;object/NPC&quot;

return function(self)
    if GameState:isFlagSet(&quot;ep3_spoke_b2&quot;) then
        return BlockPlayer {
            Do(function() self:facePlayer() end),
            MessageBox {message = &quot;B: I await your return Freedom Fighters.&quot;},
            Do(function() self:refreshKeyHint() end)
        }
    end

    if not GameState:isFlagSet(&quot;ep3_spoke_t_intro&quot;) then
        return BlockPlayer {
            Do(function() self:facePlayer() end),
            MessageBox {message = &quot;B: Welcome back, Freedom Fighters. {p60}You're always welcome here.&quot;},
            Do(function() self:refreshKeyHint() end)
        }
    end

    if GameState:isFlagSet(&quot;ep3_spoke_b1&quot;) then
        if GameState:isFlagSet(&quot;ep3_spoke_t&quot;) and
           GameState:isFlagSet(&quot;ep3_spoke_r&quot;) and
           GameState:isFlagSet(&quot;ep3_spoke_j&quot;) and
           GameState:isFlagSet(&quot;ep3_spoke_p&quot;)
        then
            GameState:setFlag(&quot;ep3_spoke_b2&quot;)
            local walkout, walkin, sprites = self.scene.player:split()
            return BlockPlayer {
                Do(function() self:facePlayer() end),
                walkout,
                Animate(sprites.sonic.sprite, &quot;idleup&quot;),
                Animate(sprites.antoine.sprite, &quot;idleup&quot;),
                Animate(sprites.sally.sprite, &quot;idleup&quot;),
                MessageBox {message = &quot;B: It seems as though we are all in agreement.&quot;},
                MessageBox {message = &quot;B: I have only one condition...&quot;},
                MessageBox {message = &quot;B: Take me with you first. {p60}I need to see how safe your home base is for myself.&quot;},
                MessageBox {message = &quot;Sally: That's great B!&quot;},
                MessageBox {message = &quot;Sally: We have an important mission to finish first.{p60} After that, we can bring you to Knothole.&quot;},
                walkin,
                Do(function()
                    self:refreshKeyHint()
                    self.scene.player.x = self.scene.player.x + 60
                    self.scene.player.y = self.scene.player.y + 60
                end)
            }
        else
            return BlockPlayer {
                Do(function() self:facePlayer() end),
                MessageBox {message = &quot;B: Have you spoken to everyone yet?&quot;},
                Do(function() self:refreshKeyHint() end)
            }
        end
    else
        GameState:setFlag(&quot;ep3_spoke_b1&quot;)
        local walkout, walkin, sprites = self.scene.player:split()
        return BlockPlayer {
            Do(function() self:facePlayer() end),
            walkout,
            Animate(sprites.sonic.sprite, &quot;idleup&quot;),
            Animate(sprites.sally.sprite, &quot;idleup&quot;),
            Animate(sprites.antoine.sprite, &quot;idleup&quot;),
            MessageBox {message = &quot;B: Welcome, Ms. Acorn{p60}, Mr. Hedgehog...&quot;},
            MessageBox {message = &quot;B: Ah, and this must be Mr. Depardieu. {p60}On another mission that requires our help?&quot;},
            MessageBox {message = &quot;Sonic: Not exactly... {p60}listen B, {p60}we know you are afraid of movin the Forgotten to Knothole, but--&quot;},
            Animate(self.sprite, &quot;pose&quot;),
            MessageBox {message = &quot;B: I know what you're going to say, and the answer is still 'no'.&quot;},
            Animate(sprites.sonic.sprite, &quot;idledown&quot;),
            MessageBox {message = &quot;Sonic: Your turn, Sal!&quot;},
            Ease(sprites.sally, &quot;y&quot;, function() return sprites.sally.y - 50 end, 8),
            Ease(sprites.sally, &quot;y&quot;, function() return sprites.sally.y + 50 end, 8),
            MessageBox {message = &quot;Sally: Sonic!&quot;},
            Animate(self.sprite, &quot;idledown&quot;),
            Animate(sprites.sonic.sprite, &quot;idleup&quot;),
            Parallel {
                AudioFade(&quot;music&quot;, 1.0, 0.0, 0.5),
                MessageBox {message = &quot;B: ...Ms. Acorn{p60}, you understand the condition my people face, correct?&quot;}
            },
            MessageBox {message = &quot;Sally: Memory loss?&quot;},
            PlayAudio(&quot;music&quot;, &quot;bsad&quot;, 0.0, true, true),
            Animate(self.sprite, &quot;pose&quot;),
            Parallel {
                AudioFade(&quot;music&quot;, 0.0, 0.8, 0.5),
                MessageBox {message = &quot;B: It's much worse than just that, unfortunately...&quot;}
            },
            MessageBox {message = &quot;B: I've had this condition much longer than the others{p60}, as it has progressed it has mutated from simple amnesia to a much more debilitating disorder...&quot;},
            MessageBox {message = &quot;B: I see these flashes-- {p60}half-remembered memories of my past life...&quot;},
            MessageBox {message = &quot;B: As soon as they disappear I am left with pain... {p60}worse than any physical torture you could imagine...&quot;},
            Animate(sprites.sally.sprite, &quot;sadleft&quot;),
            MessageBox {message = &quot;Sally: Oh B...&quot;},
            Animate(self.sprite, &quot;idledown&quot;),
            MessageBox {message = &quot;B: The only reason I haven't gone mad from it all is these people, Ms. Acorn. {p80}They are family to me{p60}, the reason I keep going.&quot;},
            MessageBox {message = &quot;B: The thought of losing one of them during our transport?... {p60}I just can't let that happen.&quot;},
            Animate(sprites.sally.sprite, &quot;idleup&quot;),
            MessageBox {message = &quot;B: At least here I can know they are safe!&quot;},
            MessageBox {message = &quot;Sally: What if I told that this place isn't safe anymore, B?&quot;},
            Ease(self, &quot;y&quot;, function() return self.y - 50 end, 8),
            Ease(self, &quot;y&quot;, function() return self.y + 50 end, 8),
            MessageBox {message = &quot;B: What!?&quot;},
            Ease(sprites.sonic, &quot;y&quot;, function() return sprites.sonic.y - 50 end, 8),
            Ease(sprites.sonic, &quot;y&quot;, function() return sprites.sonic.y + 50 end, 8),
            MessageBox {message = &quot;Sonic: T's sayin' Buttnik's cleanup crew may be close to finding you guys! {p60}That's why we gotta get you all outta here!&quot;},
            Animate(self.sprite, &quot;seriousdown&quot;),
            MessageBox {message = &quot;B: ... {p60}if that's true...&quot;},
            MessageBox {message = &quot;Sally: Please B... {p60}you'll all be much safer in Knothole.&quot;},
            Spawn(AudioFade(&quot;music&quot;, 0.8, 0.0, 0.5)),
            Wait(1),
            Animate(self.sprite, &quot;idledown&quot;),
            MessageBox {message = &quot;B: Alright, I'll consider it. {p60}But I want you to make sure that the rest of my family agrees with you.&quot;},
            Wait(1),
            PlayAudio(&quot;music&quot;, &quot;doittoit2&quot;, 1.0, true, true),
            Animate(sprites.sonic.sprite, &quot;idledown&quot;),
            Animate(sprites.antoine.sprite, &quot;idleleft&quot;),
            Animate(sprites.sally.sprite, &quot;idleright&quot;),
            MessageBox {message = &quot;Antoine: He drives ze hard bargain, no?&quot;},
            MessageBox {message = &quot;Sonic: Hey, that ain't a 'no'!&quot;},
            MessageBox {message = &quot;Sally: Sounds like we need to get the rest of the Forgotten on board.&quot;},
            MessageBox {message = &quot;Antoine: Zen we should be getting to work, yes?&quot;},
            Animate(sprites.sonic.sprite, &quot;pose&quot;),
            Animate(sprites.antoine.sprite, &quot;pose&quot;),
            Animate(sprites.sally.sprite, &quot;pose&quot;),
            MessageBox {message = &quot;All: Let's do it to it!&quot;},
            AudioFade(&quot;music&quot;, 1.0, 0.0, 0.5),
            Wait(0.5),
            walkin,
            PlayAudio(&quot;music&quot;, &quot;forgottenhideout2&quot;, 1.0, true, true),
            Do(function()
                self:refreshKeyHint()
                self.scene.player.x = self.scene.player.x + 60
                self.scene.player.y = self.scene.player.y + 60
            end)
        }
    end
end</property>
    <property name="sprite" type="file" value="../art/sprites/b.png"/>
   </properties>
  </object>
 </objectgroup>
 <layer name="above" width="27" height="26">
  <data encoding="csv">
1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,
1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,
1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,
1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,1262,
2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,
2417,2383,2384,2385,2386,2387,2388,2384,2385,2386,2387,2388,2385,2386,2387,2388,2384,2385,2386,2387,2388,2384,2385,2386,2389,2417,2417,
2417,2457,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2489,2417,2417,
2417,2492,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2454,2417,2417,
2417,2492,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2489,2417,2417,
2417,2492,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2454,2417,2417,
2417,2492,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2489,2417,2417,
2417,2492,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2454,2417,2417,
2417,2492,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2489,2417,2417,
2417,2492,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2454,2417,2417,
2417,2492,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2489,2417,2417,
2417,2492,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2454,2417,2417,
2417,2492,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2489,2417,2417,
2417,2492,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2454,2417,2417,
2417,2492,0,0,0,0,4262,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2489,2417,2417,
2417,2417,2422,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2419,2417,2417,2417,
2417,2417,2417,2422,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2419,2417,2417,2417,2417,
2417,2417,2417,2417,2422,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2419,2417,2417,2417,2417,2417,
2417,2417,2417,2417,2417,2559,2560,2560,2560,2560,2523,0,0,0,0,2529,2560,2559,2560,2559,2560,2417,2417,2417,2417,2417,2417,
2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2418,0,0,0,0,2424,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,
2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2558,2559,2560,2561,2562,2564,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,
2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417,2417
</data>
 </layer>
 <imagelayer name="overlay" offsetx="0" offsety="96">
  <image source="../art/sprites/overhang1.png" width="336" height="283"/>
 </imagelayer>
 <imagelayer name="overlay2" offsetx="576" offsety="32">
  <image source="../art/sprites/overhang2.png" width="400" height="400"/>
 </imagelayer>
 <layer name="Collision" width="27" height="26" visible="0">
  <data encoding="csv">
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
3071,3071,3071,3071,3071,3071,3071,3071,2965,3071,3071,3071,3071,3071,3071,3071,3071,3071,3071,3071,3071,3071,3071,3071,3071,0,0,
3071,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3071,3071,3071,3071,3071,0,0,3071,0,0,
3071,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3071,3071,3071,3071,3071,0,0,3071,0,0,
3071,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3071,0,0,
3071,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3071,0,0,
3071,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3071,3071,3071,0,
3071,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3071,3071,3071,0,
3071,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3071,0,0,
3071,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3071,0,0,
3071,3071,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3071,0,0,
3071,3071,3071,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3071,3071,0,0,
3071,3071,3071,3071,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3071,3071,3071,0,0,
3071,3071,3071,3071,3071,3071,3071,3071,3071,3071,3071,0,0,0,0,3071,3071,3071,3071,3071,3071,3071,3071,3071,3071,0,0,
0,0,0,0,0,0,0,0,0,0,3071,0,0,0,0,3071,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,3071,0,0,0,0,3071,0,0,0,0,0,0,0,0,0,0,0
</data>
 </layer>
 <layer name="BunnyExtCollision" width="27" height="26" visible="0">
  <data encoding="csv">
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
</data>
 </layer>
</map>
